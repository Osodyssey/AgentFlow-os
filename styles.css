
:root{
  --bg:#0f1724;
  --panel:#0b1220;
  --muted:#94a3b8;
  --accent:#ef4444;
  --card:#0b1226;
  --glass: rgba(255,255,255,0.03);
  font-family: 'Vazirmatn', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
body{
  margin:0;
  padding:0;
  background:linear-gradient(180deg,var(--bg),#071021);
  color:#e6eef8;
  min-height:100vh;
}

/* topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 16px;
  gap:12px;
  background:var(--panel);
  border-bottom:1px solid rgba(255,255,255,0.03);
}
.topbar .title{font-weight:700}
.toolbar{display:flex;align-items:center;gap:8px}
.toolbar input{padding:6px 10px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}

/* layout */
.container{display:flex;height:calc(100vh - 64px)}
.panel{width:260px;padding:12px;background:var(--card);border-right:1px solid rgba(255,255,255,0.02)}
.panel-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-weight:700}
.panel-list{overflow:auto;height:calc(100% - 36px);padding-right:6px}
.agent{padding:8px;border-radius:8px;margin-bottom:6px;cursor:grab;background:var(--glass);display:flex;align-items:center}
.agent:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(2,6,23,0.6)}
.agent .meta{margin-left:8px}
.agent .label{font-weight:600}
.agent .sub{font-size:12px;color:var(--muted)}

/* canvas */
.canvas-wrap{flex:1;padding:12px;display:flex;flex-direction:column}
.drawflow{flex:1;border-radius:8px;background:linear-gradient(180deg,#041427,#061025);min-height:100%;overflow:hidden;padding:8px}

/* inspector modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.modal.open{display:flex}
.inspector{background:var(--card);padding:12px;border-radius:8px;min-width:320px;max-width:520px}
.btn{padding:8px 10px;border-radius:6px;background:transparent;border:1px solid rgba(255,255,255,0.04);cursor:pointer}

/* log panel */
.log-panel{position:fixed;right:16px;bottom:16px;width:360px;max-height:60vh;background:var(--panel);border-radius:8px;overflow:hidden;display:flex;flex-direction:column}
.log-panel.open{box-shadow:0 12px 48px rgba(2,6,23,0.7)}
.log-header{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid rgba(255,255,255,0.02)}
.log-content{padding:8px;overflow:auto;flex:1;font-family:monospace;font-size:13px}
.log-entry{margin-bottom:6px}
.log-entry.info strong{color:#9fb9ff}
.log-entry.success strong{color:#7be194}
.log-entry.error strong{color:#ff8080}

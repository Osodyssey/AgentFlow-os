# AgentFlow โ README

**ุฒุจุงู:** ูุงุฑุณ  
**ูุงู:** `app.js` (ููฺฺฉ AgentFlow ุจุฑุง ูุฑุงุดฺฏุฑ ุฌุฑุงู ุนุงููโูุง)

---

## ุชูุถุญุงุช ฺฉู
AgentFlow ฺฉ ุฑุงุจุท ุณุงุฏู ู ุณุจฺฉ ุจุฑุง ุทุฑุงุญ ุฌุฑุงูโูุง ุนุงูู (Agents) ุจูโุตูุฑุช ุจุตุฑ ุงุณุช. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ูพุฑูฺู ูโุชูุงูุฏ ููุฏูุง ุขูุงุฏู (ูุงููุฏ ฺฉุฏุฑูุง Python/JSุ ููุฏุฑ ุฏุงุฏูุ ุชุฑฺฏุฑ ู ... ) ุฑุง ุจู ุจูู (canvas) ุจฺฉุดุฏุ ูพุงุฑุงูุชุฑูุง ูุฑ ููุฏ ุฑุง ูุฑุงุด ฺฉูุฏุ ุฌุฑุงู ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฎุฑูุฌ JSON ุฑุง ุตุงุฏุฑ/ุฏุฑููโุฑุฒ ฺฉูุฏ.

ุงู README ุจุฑ ุงุณุงุณ `app.js` ฺฉู ุดูุง ูุฑุณุชุงุฏุฏ ููุดุชู ุดุฏู ู ุดุงูู ุจุฎุดโูุง ุฑุงูโุงูุฏุงุฒุ ุงุณุชูุงุฏูุ ุชูุณุนู ู ุฑูุน ุงุดฺฉุงู ุงุณุช.

---

## ุณูุฑุณ ุจุณ ูพุฑูฺู
ุงู ูพุฑูฺู ุจุฑ ุงุณุงุณ **NeutrinoWeb** ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช:  
๐ [https://neutrinoweb.com/](https://neutrinoweb.com/)

### ุชุญูู NeutrinoWeb
NeutrinoWeb ฺฉ ูพูุชูุฑู ููุขูุฑุงูู ุฏุฑ ุญูุฒู **ููุด ูุตููุนุ ุงุจุฒุงุฑูุง ุงุจุฑ ู ุชูุณุนู ูุจ** ุงุณุช. ูุฏู ุงู ูพูุชูุฑู ุณุงุฏูโุณุงุฒ ูุฑุงูุฏ ุทุฑุงุญุ ุชูุณุนู ู ุงุณุชูุฑุงุฑ ูุฑูโุงูุฒุงุฑูุง ู ุณุฑูุณโูุง ููุด ูุตููุน ูโุจุงุดุฏ.  
ูฺฺฏโูุง ฺฉูุฏ NeutrinoWeb:
- ุงุฑุงุฆูโ ุงุจุฒุงุฑูุง ููุด ูุตููุน ู ูุจโูุญูุฑ ุจูโุตูุฑุช ูุงฺููุงุฑ.
- ุชูุฑฺฉุฒ ุฑู **ฺฉุงุฑุจุฑูพุณูุฏ** ู **ุฑุงุจุทโูุง ุชุนุงูู** ุจุฑุง ุชูุณุนู ุณุฑุนโุชุฑ.
- ุฏุงุดุชู ูุณุชูุฏุงุช ุฎูุจ ุจุฑุง ุงุฏุบุงู ุขุณุงูโุชุฑ ุจุง ูพุฑูฺูโูุง ูุฎุชูู.
- ุฒุฑุณุงุฎุช ูุจุชู ุจุฑ Cloud ฺฉู ุจุงุนุซ ุงูุนุทุงูโูพุฐุฑ ู ููุงุณโูพุฐุฑ ุจุงูุง ูโุดูุฏ.

AgentFlow ูุฒ ุจุง ุงููุงู ุงุฒ ูุนูุงุฑ ู ุณุจฺฉ ุทุฑุงุญ NeutrinoWeb ุณุงุฎุชู ุดุฏู ุงุณุช ู ุชูุงุด ูโฺฉูุฏ ูุญุท ุณุงุฏู ู ูุงุจู ุชูุณุนู ุจุฑุง ูุฏุฑุช ุฌุฑุงูโูุง ุนุงููโูุง ูุฑุงูู ฺฉูุฏ.

---

## ูฺฺฏโูุง
- ูพุงูุช ุขูุงุฏู ุงุฒ ููุฏูุง (`AGENT_DATA`) ุดุงูู ุฏุณุชูโูุง Core, Programming, Data.
- ุฏุฑฺฏ ุงูุฏ ุฏุฑุงูพ ููุฏูุง ุงุฒ ูพูู ุจู ุจูู.
- ุงูุฒูุฏู ููุฏ ุจุง ฺฉูฺฉ.
- ุจุงุฒ ฺฉุฑุฏู Inspector ุจุฑุง ูุฑุงุด labelุ subtitle ู params (ูุฑูุช JSON).
- ุฐุฎุฑู/ุจุงุฑฺฏุฐุงุฑ ุฌุฑุงู ุจู/ุงุฒ localStorage ู ูุงู JSON.
- ูพุดโููุงุด JSON ุฏุฑ ูพูุฌุฑู ุฌุฏุฏ.
- ุงุฌุฑุง ุดุจูโุณุงุฒ ุณุงุฏู (ุชุงุจุน `runFlow`) ฺฉู ุจุฑุง ูุฑ ููุฏ ุฎุฑูุฌ ูุฑุถ ุชููุฏ ูโฺฉูุฏ ู ุขู ุฑุง ุฏุฑ ุฏุงุฏูโูุง ููุฏ ุฐุฎุฑู ูโฺฉูุฏ.
- ูุงฺฏ (ููุงุด ุฑุฎุฏุงุฏูุง ู ูพุงูโูุง).

---

## ููุฒููุงุช (Dependencies)
ุงู ูพุฑูฺู ูุงุฒ ุฏุงุฑุฏ ุจู:
- `Drawflow` (ฺฉุชุงุจุฎุงููู ุณุงุฎุช ู ูุฑุงุด ูููุฏุงุฑูุง/ููุฏูุง ุฏุฑ ุจูู). ูุณุฎูู ููุงุณุจ ุงุฒ Drawflow ุฑุง ุฏุงูููุฏ ุง ุจุง CDN ุงุถุงูู ฺฉูุฏ.
- ฺฉ ุตูุญูู HTML ฺฉู `app.js` ุฑุง ุจุงุฑฺฏุฐุงุฑ ฺฉูุฏ ู ุงููุงูโูุง ุจุง idูุง ููุฑุฏ ุงุณุชูุงุฏู ุฑุง ุฏุงุดุชู ุจุงุดุฏ (ุฏุฑ ุงุฏุงูู ููููู ุณุงุฎุชุงุฑ ุขูุฑุฏู ุดุฏู).

ูุงุฒ ุจู ูุตุจ ุณุฑูุฑ ุฎุงุต ูุณุชุ ุจุฑุง ุชูุณุนู ูุญู ูโุชูุงูุฏ ุงุฒ ูุฑ ุณุฑูุฑ ุณุงุฏูู ูุงู ุงุณุชุงุชฺฉ (ูุซูุงู `http-server` ุฏุฑ npm ุง `python -m http.server`) ุงุณุชูุงุฏู ฺฉูุฏ.

---

## ุณุงุฎุชุงุฑ ูพุดููุงุฏ ูุงูโูุง
```
agentflow/
โโ index.html
โโ app.js            # ูุงู ุดูุง (ฺฉุฏ AgentFlow)
โโ styles.css
โโ libs/
โ  โโ drawflow.min.js
โโ assets/
```

---

## ูููููู ุณุงุฎุชุงุฑ ุณุงุฏูู `index.html`
ูุทูุงู ุงู ูุทุนู ุฑุง ุจู ุนููุงู ูพุงู ุงุณุชูุงุฏู ฺฉูุฏ (ูุงุฒ ุจู ุงุณุชุงู ู ฺฉุชุงุจุฎุงูู Drawflow ุฏุงุฑุฏ):

```html
<!doctype html>
<html lang="fa">
  <head>
    <meta charset="utf-8" />
    <title>AgentFlow</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <!-- ุงุถุงูู ฺฉุฑุฏู Drawflow ุงุฒ CDN ุง ูุงู ูุญู -->
    <script src="libs/drawflow.min.js"></script>
  </head>
  <body>
    <!-- ุงููุงูโูุง ููุฑุฏ ุงุณุชูุงุฏู ุฏุฑ app.js -->
    <div id="panel-content">
      <div id="panel-list"></div>
    </div>

    <div id="drawflow" style="width:100%;height:600px;border:1px solid #ddd"></div>

    <!-- Inspector modal -->
    <div id="inspector-modal-overlay" class="modal">
      <div id="inspector">
        <div id="inspector-id"></div>
        <div id="inspector-content"></div>
        <button onclick="App.handlers.closeInspector()">ุจุณุชู</button>
      </div>
    </div>

    <!-- Log panel -->
    <div id="log-panel">
      <div id="log-content"></div>
      <button id="clearLogs">ูพุงฺฉ ฺฉู</button>
      <button id="closeLogs">ุจุณุชู</button>
    </div>

    <!-- Controls / toolbar -->
    <button id="previewJson">ูพุดโููุงุด JSON</button>
    <button id="runFlow">ุงุฌุฑุง ุฌุฑุงู</button>
    <button id="saveLocal">ุฐุฎุฑู ูุญู</button>
    <button id="exportJson">ุตุฏูุฑ JSON</button>
    <button id="importJson">ุฏุฑููโุฑุฒ JSON</button>
    <button id="openLog">ุจุงุฒ ฺฉุฑุฏู ูุงฺฏ</button>

    <script src="app.js"></script>
  </body>
</html>
```

---

## ูุญููู ุงุฌุฑุง (Run)
1. ูุงูโูุง ุฑุง ุฏุฑ ฺฉ ูพูุดู ูุฑุงุฑ ุฏูุฏ (index.html, app.js, drawflow).
2. ฺฉ ุณุฑูุฑ ูุญู ุณุงุฏู ุงุฌุฑุง ฺฉูุฏ:
   - ุจุง Python: `python -m http.server 8000`
   - ุง ุจุง `http-server` ุฏุฑ npm: `npx http-server . -p 8000`
3. ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ: `http://localhost:8000`  
4. ุญุงู ูโุชูุงูุฏ ููุฏูุง ุฑุง ุงุฒ ูพูู ุจู ุจูู ุจฺฉุดุฏุ ุฑู ุขูโูุง ฺฉูฺฉ ฺฉูุฏ ุชุง Inspector ุจุงุฒ ุดูุฏุ ู ุฌุฑุงู ุฑุง ุงุฌุฑุง ุง ุตุงุฏุฑ ฺฉูุฏ.

---

## ูุฑูุช JSON ุฎุฑูุฌ (ููููู)
ุฎุฑูุฌ `export()` ุจู ุดฺฉู Drawflow ุฎูุงูุฏ ุจูุฏ. ูููููู ุณุงุฏูู ูุณูุช `drawflow.Home.data`:

```json
{
  "node-1": {
    "id": "node-1",
    "name": "python_coder",
    "data": {
      "label": "Python Coder",
      "subtitle": "Write Python",
      "params": {
        "runtime": "python3.11"
      }
    },
    "class": "agent-node",
    "html": "<div>...</div>",
    "x": 200,
    "y": 120
  }
}
```

---

## ูุญููู ุงูุฒูุฏู/ุชุนุฑู Agent ุฌุฏุฏ
ุฏุฑ `app.js` ุจุฎุด `AGENT_DATA` ุฑุง ูุฑุงุด ฺฉูุฏ. ูุฑ Agent ุญุฏุงูู ุจุงุฏ ุงู ุณุงุฎุชุงุฑ ุฑุง ุฏุงุดุชู ุจุงุดุฏ:

```js
{ label: 'My Agent', subtitle: 'ุนููุงุช X', icon: 'โ๏ธ', agentType: 'my_agent', params: { key: 'value' } }
```

- `agentType` ูุงู ุงุณุช ฺฉู ููฺฏุงู ุงุฌุฑุง (ุฏุฑ `runFlow`) ูโุชูุงูุฏ ุจุฑุง ุชุตููโฺฏุฑ ุงุณุชูุงุฏู ุดูุฏ.
- `params` ูโุชูุงูุฏ ูุฑ ุฏุงุฏูู ุชูุธูุงุช ููุฑุฏ ูุงุฒ ููุฏ ุฑุง ูฺฏู ุฏุงุฑุฏ.

---

## ุชูุณุนู ู ฺฏุณุชุฑุด
- ูพุงุฏูโุณุงุฒ `runFlow` ูุงูุน: ุจูโุฌุง ุดุจูโุณุงุฒุ ูโุชูุงูุฏ ุจุง Backend ุง WebWorker ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉูุฏ ุชุง ุจุฑุง ูุฑ ููุฏ ฺฉุงุฑ ูุงูุน ุงูุฌุงู ุดูุฏ (ูุซูุงู ูุฑุงุฎูุงู LLMุ ุงุฌุฑุง ฺฉุฏุ ุจุงุฑฺฏุฐุงุฑ/ุฐุฎุฑู).
- ุงูุฒูุฏู ููุงูู ุงุชุตุงู: ฺฉูุชุฑู ููุน ูุฑูุฏ/ุฎุฑูุฌ ููุฏูุงุ ุงุนุชุจุงุฑุณูุฌ ูพุงุฑุงูุชุฑูุง.
- ุฐุฎุฑู ุฏุฑ ุณุฑูุฑ: ูพุงุฏูโุณุงุฒ endpoint ุจุฑุง ุฐุฎุฑู ู ุจุงุฑฺฏุฐุงุฑ ุฌุฑุงูโูุง.
- ุชุณุช ูุงุญุฏ ุจุฑุง ูุชุฏูุง Editor wrapper (ุงุถุงูู ฺฉุฑุฏู/ุญุฐู/ุจูโุฑูุฒุฑุณุงู ููุฏ).

---

## ูฺฉุงุช ุฑุงุฌ ุฑูุน ุงุดฺฉุงู
- ุงฺฏุฑ ุฏุฑฺฏ ุงูุฏ ุฏุฑุงูพ ฺฉุงุฑ ูฺฉุฑุฏ: ูุทูุฆู ุดูุฏ ฺฉู `e.dataTransfer` ูุฌุงุฒ ุงุณุช ู `dragstart` ููุฏุงุฑ `data-agent` ุฑุง ูโุณุงุฒุฏ.
- ุงฺฏุฑ `editor.addNode` ุฎุทุง ุฏุงุฏ: ฺฺฉ ฺฉูุฏ Drawflow ุจูโุฏุฑุณุช ุจุงุฑฺฏุฐุงุฑ ุดุฏู ู `editor.start()` ุตุฏุง ุฒุฏู ุดุฏู.
- ุฎุทุง JSON ุฏุฑ Inspector: ูุจู ุงุฒ ุฐุฎุฑู ูุทูุฆู ุดูุฏ `ins-params` ุญุงู JSON ูุนุชุจุฑ ุงุณุช.
- ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉูุฏ ู ูุงฺฏโูุง App.helpers.log ุฑุง ุจุฑุฑุณ ฺฉูุฏุ ุขูโูุง ุงุดฺฉุงูโุงุจ ุฑุง ุณุงุฏู ูโฺฉููุฏ.

---

## ุงููุช
- ููฺฏุงู ุฐุฎุฑูู params ููุฏูุง ุงฺฏุฑ ุฏุงุฏูู ฺฉุงุฑุจุฑ ุฐุฎุฑู ูโฺฉูุฏุ ุงุฒ ุงุนุชุจุงุฑุณูุฌ ู ูพุงฺฉุณุงุฒ (sanitization) ููุงุณุจ ุงุณุชูุงุฏู ฺฉูุฏ.
- ุงฺฏุฑ ูุฑุงุฑ ุงุณุช ฺฉุฏ ุงุฌุฑุง ุดูุฏ (ูุซูุงู ุงุฌุฑุง ฺฉุฏ ุชููุฏ ุชูุณุท ููุฏูุง)ุ ุขู ุฑุง ุฏุงุฎู sandbox ุง process ุฌุฏุง ุงุฌุฑุง ฺฉูุฏ.

---

## ูููููู License
ูุฑุงุฑ ุฏูุฏ ูุซู MIT:

```
MIT License
Copyright (c) 2025
...
```

---

## ุชุดฺฉุฑ ู ููุงุจุน
- NeutrinoWeb โ [https://neutrinoweb.com/](https://neutrinoweb.com/)
- Drawflow โ ุจุฑุง ุจูู ููุฏูุง.
- ูุฑ ููุจุน ุฏฺฏุฑ ฺฉู ุฏุฑ ูพุฑูฺู ุงุณุชูุงุฏู ูโฺฉูุฏ (ฺฉุชุงุจุฎุงููโูุงุ ุขฺฉููโูุง ู ...).
